{"ast":null,"code":"import _defineProperty from\"/home/tirso/Escritorio/LosPoemasDeLaAbuela/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/tirso/Escritorio/LosPoemasDeLaAbuela/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/tirso/Escritorio/LosPoemasDeLaAbuela/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import PoetryService from\"../../../service/PoetryService\";import\"./Profile.css\";import Button from\"react-bootstrap/Button\";import Form from\"react-bootstrap/Form\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";var Profile=function Profile(props){var poetryService=new PoetryService();var _useState=useState({title:\"\",body:\"\",tags:\"\"}),_useState2=_slicedToArray(_useState,2),poetry=_useState2[0],updatePoetry=_useState2[1];console.log(props);console.log(props.history.location.state);useEffect(function(){if(props.history.location.state){var _props$history$locati=props.history.location.state,titletomodify=_props$history$locati.titletomodify,bodytomodify=_props$history$locati.bodytomodify,tagstomodify=_props$history$locati.tagstomodify;updatePoetry({title:titletomodify,body:bodytomodify,tags:tagstomodify});}},[props.history.location.state]);var title=poetry.title,body=poetry.body,tags=poetry.tags;// const [error, updateError] = useState({\n//   errorMessage: \"\",\n// });\n// const { errorMessage } = error;\nvar handleInputChange=function handleInputChange(e){updatePoetry(_objectSpread(_objectSpread({},poetry),{},_defineProperty({},e.target.name,e.target.value)));};var handleFormSubmit=function handleFormSubmit(e){e.preventDefault();poetryService.createPoetry(poetry).then(function(){return props.history.push(\"/poesias\");}).catch(function(err){return console.log(err);});};//VER ESTO BIEN\nvar editPoetry=function editPoetry(e){e.preventDefault();var idtomodify=props.history.location.state.idtomodify;poetryService.updateOnePoetry(idtomodify,poetry).then(function(){return props.history.push(\"/poesias\");}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{children:props.loggedInUser?/*#__PURE__*/_jsx(\"div\",{className:\"profile-container\",children:props.loggedInUser&&props.history.location.pathname===\"/perfil\"?/*#__PURE__*/_jsx(Container,{as:\"main\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:{offset:3,span:6},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Crear nuevo poema\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formGroupEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:handleInputChange,value:title,name:\"title\",type:\"textl\",placeholder:\"T\\xEDtulo\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formGroupPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Cuerpo del poema\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",onChange:handleInputChange,value:body,name:\"body\",type:\"textarea\",placeholder:\"Poema\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tem\\xE1tica\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",onChange:handleInputChange,value:tags,name:\"tags\",type:\"text\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Seleccione tem\\xE1tica del poema\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Amor\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Naturaleza\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Religi\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Familia/Amistad\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Nostalgia\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Otros\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",type:\"submit\",children:\"Enviar\"})]})]})})}):/*#__PURE__*/_jsx(Container,{as:\"main\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:{offset:3,span:6},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Editar poema\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formGroupEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:handleInputChange,value:title,name:\"title\",type:\"textl\",placeholder:\"T\\xEDtulo\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formGroupPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Cuerpo del poema\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",onChange:handleInputChange,value:body,name:\"body\",type:\"textarea\",placeholder:\"Poema\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tem\\xE1tica\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",onChange:handleInputChange,value:tags,name:\"tags\",type:\"text\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Seleccione tem\\xE1tica del poema\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Amor\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Naturaleza\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Religi\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Familia/Amistad\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Nostalgia\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Otros\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",onClick:editPoetry,children:\"Editar\"})]})]})})})}):/*#__PURE__*/_jsx(\"div\",{className:\"profile-container\",children:/*#__PURE__*/_jsx(Container,{as:\"main\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Acceso restringido\"})})})});};export default Profile;","map":{"version":3,"sources":["/home/tirso/Escritorio/LosPoemasDeLaAbuela/client/src/components/Pages/Profile/Profile.js"],"names":["React","useState","useEffect","PoetryService","Button","Form","Container","Row","Col","Profile","props","poetryService","title","body","tags","poetry","updatePoetry","console","log","history","location","state","titletomodify","bodytomodify","tagstomodify","handleInputChange","e","target","name","value","handleFormSubmit","preventDefault","createPoetry","then","push","catch","err","editPoetry","idtomodify","updateOnePoetry","loggedInUser","pathname","offset","span"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PoetryService from \"../../../service/PoetryService\";\n\nimport \"./Profile.css\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nconst Profile = (props) => {\n  const poetryService = new PoetryService();\n\n  const [poetry, updatePoetry] = useState({\n    title: \"\",\n    body: \"\",\n    tags: \"\",\n  });\n\n  console.log(props);\n\n  console.log(props.history.location.state);\n\n  \n  useEffect(() => {\n    if (props.history.location.state) {\n      const {\n        titletomodify,\n        bodytomodify,\n        tagstomodify,\n      } = props.history.location.state;\n\n      updatePoetry({\n        title: titletomodify,\n        body: bodytomodify,\n        tags: tagstomodify,\n      });\n    }\n  }, [props.history.location.state]);\n    \n    \n\n  const { title, body, tags } = poetry;\n\n  // const [error, updateError] = useState({\n  //   errorMessage: \"\",\n  // });\n\n  // const { errorMessage } = error;\n\n  const handleInputChange = (e) => {\n    updatePoetry({\n      ...poetry,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n\n    poetryService\n      .createPoetry(poetry)\n      .then(() => props.history.push(\"/poesias\"))\n      .catch((err) => console.log(err));\n  };\n\n  //VER ESTO BIEN\n\n  const editPoetry = (e) => {\n\n    e.preventDefault()\n\n    const { idtomodify } = props.history.location.state;\n\n    poetryService\n      .updateOnePoetry(idtomodify, poetry)\n      .then(() => props.history.push(\"/poesias\"))\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <div>\n      {props.loggedInUser ? (\n        <div className=\"profile-container\">\n          {props.loggedInUser &&\n          props.history.location.pathname === \"/perfil\" ? (\n            <Container as=\"main\">\n              <Row>\n                <Col md={{ offset: 3, span: 6 }}>\n                  <h1>Crear nuevo poema</h1>\n                  <Form onSubmit={handleFormSubmit}>\n                    <Form.Group controlId=\"formGroupEmail\">\n                      <Form.Label>Título</Form.Label>\n                      <Form.Control\n                        onChange={handleInputChange}\n                        value={title}\n                        name=\"title\"\n                        type=\"textl\"\n                        placeholder=\"Título\"\n                      />\n                    </Form.Group>\n                    <Form.Group controlId=\"formGroupPassword\">\n                      <Form.Label>Cuerpo del poema</Form.Label>\n                      <Form.Control\n                        as=\"textarea\"\n                        onChange={handleInputChange}\n                        value={body}\n                        name=\"body\"\n                        type=\"textarea\"\n                        placeholder=\"Poema\"\n                      />\n                    </Form.Group>\n                    <Form.Group>\n                      <Form.Label>Temática</Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        onChange={handleInputChange}\n                        value={tags}\n                        name=\"tags\"\n                        type=\"text\"\n                      >\n                        <option>Seleccione temática del poema</option>\n                        <option>Amor</option>\n                        <option>Naturaleza</option>\n                        <option>Religión</option>\n                        <option>Familia/Amistad</option>\n                        <option>Nostalgia</option>\n                        <option>Otros</option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Button variant=\"dark\" type=\"submit\">\n                      Enviar\n                    </Button>\n                  </Form>\n                </Col>\n              </Row>\n            </Container>\n          ) : (\n            <Container as=\"main\">\n              <Row>\n                <Col md={{ offset: 3, span: 6 }}>\n                  <h1>Editar poema</h1>\n                  <Form onSubmit={handleFormSubmit}>\n                    <Form.Group controlId=\"formGroupEmail\">\n                      <Form.Label>Título</Form.Label>\n                      <Form.Control\n                        onChange={handleInputChange}\n                        value={title}\n                        name=\"title\"\n                        type=\"textl\"\n                        placeholder=\"Título\"\n                      />\n                    </Form.Group>\n                    <Form.Group controlId=\"formGroupPassword\">\n                      <Form.Label>Cuerpo del poema</Form.Label>\n                      <Form.Control\n                        as=\"textarea\"\n                        onChange={handleInputChange}\n                        value={body}\n                        name=\"body\"\n                        type=\"textarea\"\n                        placeholder=\"Poema\"\n                      />\n                    </Form.Group>\n                    <Form.Group>\n                      <Form.Label>Temática</Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        onChange={handleInputChange}\n                        value={tags}\n                        name=\"tags\"\n                        type=\"text\"\n                      >\n                        <option>Seleccione temática del poema</option>\n                        <option>Amor</option>\n                        <option>Naturaleza</option>\n                        <option>Religión</option>\n                        <option>Familia/Amistad</option>\n                        <option>Nostalgia</option>\n                        <option>Otros</option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Button variant=\"dark\" onClick={editPoetry}>\n                      Editar\n                    </Button>\n                  </Form>\n                </Col>\n              </Row>\n            </Container>\n          )}\n        </div>\n      ) : (\n          <div className=\"profile-container\">\n            <Container as=\"main\">\n               <h1>Acceso restringido</h1>\n            </Container>\n            </div>\n      )}\n    </div>\n  );\n};\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}